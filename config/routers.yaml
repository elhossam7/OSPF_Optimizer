# config/routers.yaml — CORRECTED FOR YOUR WORKING TOPOLOGY
# Uses interface-based OSPF (ip ospf area) — NO network statements
global:
  connection_method: docker_exec
  timeout: 30

thresholds:
  latency:
    high: 50
    recovery: 30
  packet_loss:
    high: 5
  bandwidth:
    high: 80

cost_factors:
  base_cost: 15
  min_cost: 1
  max_cost: 500
  min_change_threshold: 1
  multipliers:
    bandwidth_weight: 0.0
    latency_weight: 0.3
    packet_loss_weight: 0.7  # High weight for packet loss detection

routers:
  ABR1:
    container_name: "GNS3.ABR1.367ce91c-77c4-417b-bccf-1caf454f05b8"
    router_id: 1.1.1.1
    interfaces:
      - name: eth1
        ip: 10.0.0.1
        area: 0
      - name: eth3
        ip: 10.0.1.1
        area: 0
      - name: eth0
        ip: 10.1.1.1
        area: 1
      - name: eth2
        ip: 10.1.2.1
        area: 1

  ABR2:
    container_name: "GNS3.ABR2.367ce91c-77c4-417b-bccf-1caf454f05b8"
    router_id: 2.2.2.2
    interfaces:
      - name: eth1
        ip: 10.0.0.2
        area: 0
      - name: eth3
        ip: 10.0.2.2
        area: 0
      - name: eth0
        ip: 10.2.1.1
        area: 2
      - name: eth2
        ip: 10.2.2.1
        area: 2

  ABR3:
    container_name: "GNS3.ABR3.367ce91c-77c4-417b-bccf-1caf454f05b8"
    router_id: 3.3.3.3
    interfaces:
      - name: eth0
        ip: 10.0.1.2
        area: 0
      - name: eth1
        ip: 10.0.2.1
        area: 0

  R1:
    container_name: "GNS3.R1.367ce91c-77c4-417b-bccf-1caf454f05b8"
    router_id: 1.1.1.11
    interfaces:
      - name: eth1
        ip: 10.1.1.2
        area: 1

  R2:
    container_name: "GNS3.R2.367ce91c-77c4-417b-bccf-1caf454f05b8"
    router_id: 1.1.1.12
    interfaces:
      - name: eth1
        ip: 10.1.2.2
        area: 1

  R3:
    container_name: "GNS3.R3.367ce91c-77c4-417b-bccf-1caf454f05b8"
    router_id: 2.2.2.11
    interfaces:
      - name: eth1
        ip: 10.2.1.2
        area: 2

  R4:
    container_name: "GNS3.R4.367ce91c-77c4-417b-bccf-1caf454f05b8"
    router_id: 2.2.2.12
    interfaces:
      - name: eth1
        ip: 10.2.2.2
        area: 2

# Monitored links for optimization
monitored_links:
  # Area 0 Backbone
  - name: "ABR1-ABR2"
    source_router: ABR1
    source_interface: eth1
    dest_router: ABR2
    dest_interface: eth1
    dest_ip: 10.0.0.2

  - name: "ABR1-ABR3"
    source_router: ABR1
    source_interface: eth3
    dest_router: ABR3
    dest_interface: eth0
    dest_ip: 10.0.1.2

  - name: "ABR2-ABR3"
    source_router: ABR2
    source_interface: eth3
    dest_router: ABR3
    dest_interface: eth1
    dest_ip: 10.0.2.1

  # Area 1
  - name: "ABR1-R1"
    source_router: ABR1
    source_interface: eth0
    dest_router: R1
    dest_interface: eth1
    dest_ip: 10.1.1.2

  - name: "ABR1-R2"
    source_router: ABR1
    source_interface: eth2
    dest_router: R2
    dest_interface: eth1
    dest_ip: 10.1.2.2

  # Area 2
  - name: "ABR2-R3"
    source_router: ABR2
    source_interface: eth0
    dest_router: R3
    dest_interface: eth1
    dest_ip: 10.2.1.2

  - name: "ABR2-R4"
    source_router: ABR2
    source_interface: eth2
    dest_router: R4
    dest_interface: eth1
    dest_ip: 10.2.2.2
